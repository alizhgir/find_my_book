import streamlit as st
import pandas as pd
import numpy as np


st.header("""
 –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è –º–æ–¥–µ–ª—åü§ñ
""", divider='blue')

st.info("""
 - ##### –ò–º–µ–Ω–Ω–æ –∑–¥–µ—Å—å –≤—ã —Å–º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¢–û–ü-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ–¥ –≤–∞—à–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –∏ –∂–µ–ª–∞–Ω–∏—èüîù
 \n- ##### –í–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç –ª–∏—à—å —Å–¥–µ–ª–∞—Ç—å –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–Ω–∏–≥–∏, –∫–æ—Ç–æ—Ä—É—é –≤—ã —Ö–æ—Ç–µ–ª–∏ –±—ã –ø—Ä–æ—á–∏—Ç–∞—Ç—å, –∏ –≤—ã–±—Ä–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞‚öôÔ∏è
""")

st.image('images/recsys_image.png', caption='–ö–∞—Ä—Ç–∏–Ω–∫–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ DALL-E')

st.write("""
  - ### –í—ã–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–∏—Å–∫–∞:
""")

text_users = st.text_input('**–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–ø–∏—à–∏—Ç–µ –≤–∞—à–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ –≤—ã–±–æ—Ä—É –∫–Ω–∏–≥–∏ (–∫–∞–∫–æ–π –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å):**')

genre_book = st.selectbox('**–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –∂–∞–Ω—Ä –∫–Ω–∏–≥–∏:**', ['–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ë–∏–∑–Ω–µ—Å –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–î—Ä—É–≥–æ–µ'])  # –¢–£–¢ –ü–ï–†–ï–î–ê–¢–¨ –°–ü–ò–°–û–ö –ñ–ê–ù–†–û–í
                                                                                                                                # –ò–ó –ù–ê–®–ï–ì–û Dataset'a
author = st.text_input('**–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –∏–º—è –∞–≤—Ç–æ—Ä–∞, –µ—Å–ª–∏ –¥–ª—è –≤–∞—Å —ç—Ç–æ –≤–∞–∂–Ω–æ (‚ùó–ù–ï–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û):**')

count_recommended = st.slider('**–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –∫–∞–∫–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –í—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å:**', min_value=1, max_value=10, value=5)

push_button = st.button('**–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ >>>**', type='primary')

recommend_proba = np.array([['–¢–æ–ª—Å—Ç–æ–π', '–í–æ–π–Ω–∞ –∏ –º–∏—Ä'],
                            ['–•–µ–º–∏–Ω–≥—É—ç—è', '–°—Ç–∞—Ä–∏–∫ –∏ –º–æ—Ä–µ'],
                            ['–ü—É—à–∫–∏–Ω', '–ö–∞–ø–∏—Ç–∞–Ω—Å–∫–∞—è –¥–æ—á–∫–∞'],
                            ['–ê–¥–∏—Ç—å—è –ê–±—Ö–∞—Ä–≥–∞–≤–∞', '–ì—Ä–æ–∫–∞–µ–º –ê–ª–≥–æ—Ä–∏—Ç–º—ã'],
                            ['–î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π', '–ò–¥–∏–æ—Ç'],
                            ['–ë—É–ª–≥–∞–∫–æ–≤', '–ú–∞—Å—Ç–µ—Ä –∏ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞'],
                            ['–¢—É—Ä–≥–µ–Ω–µ–≤', '–û—Ç—Ü—ã –∏ –¥–µ—Ç–∏'],
                            ['–ú–∞—Ä–∫ –¢–≤–µ–Ω', '–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –¢–æ–º–∞ –°–æ–π–µ—Ä–∞'],
                            ['–î—é–º–∞', '–ì—Ä–∞—Ñ –ú–æ–Ω—Ç–µ-–ö—Ä–∏—Å—Ç–æ'],
                            ['–ï—Å–µ–Ω–∏–Ω', '–ê–Ω–Ω–∞ –°–Ω–µ–≥–∏–Ω–∞']])

if push_button:

    #### –¢–£–¢ –ë–£–î–ï–¢ –ü–†–û–ò–°–•–û–î–ò–¢–¨ –í–û–õ–®–ï–ë–°–¢–í–û - –ü–û–î–°–ß–ï–¢ –ö–û–°–ò–ù–£–°–ù–û–ì–û –°–•–û–î–°–¢–í–ê (–ò–õ–ò –î–†–£–ì–û–ô –í–ï–õ–ò–ß–ò–ù–´) –ò –û–¢–ë–û–† –¢–û–ü –ö–ù–ò–ì –î–õ–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø

    with st.sidebar:  # –¢–£–¢ –í–´–í–û–î–ò–ú –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø –í –§–û–†–ú–ê–¢–ï st.table
        st.write("#### –ú–æ–¥–µ–ª—å –Ω–∞—à–ª–∞ –ª—É—á—à–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –í–∞—Åüéâ :")
        st.table(pd.DataFrame({'–ê–≤—Ç–æ—Ä': recommend_proba[:, 0][:count_recommended], '–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏': recommend_proba[:, 1][:count_recommended]}))
